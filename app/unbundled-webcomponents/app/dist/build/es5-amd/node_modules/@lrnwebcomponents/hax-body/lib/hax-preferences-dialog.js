define(["exports","../../../lit-element/lit-element.js","../../hax-body-behaviors/lib/HAXFields.js","../../simple-icon/lib/simple-icon-lite.js","../../simple-icon/lib/simple-icon-button.js","../../simple-fields/simple-fields.js","./hax-store.js","../../../mobx/dist/mobx.esm.js"],function(_exports,_litElement,_HAXFields,_simpleIconLite,_simpleIconButton,_simpleFields,_haxStore,_mobxEsm){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.HaxPreferencesDialog=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject3_09ab1310812d11eb9c332bb120816628(){var data=babelHelpers.taggedTemplateLiteral(["<a\n            href=\"https://haxtheweb.org/\"\n            rel=\"noopener\"\n            id=\"link\"\n            target=\"_blank\"\n            >Learn more about HAX</a\n          >"]);_templateObject3_09ab1310812d11eb9c332bb120816628=function _templateObject3_09ab1310812d11eb9c332bb120816628(){return data};return data}function _templateObject2_09ab1310812d11eb9c332bb120816628(){var data=babelHelpers.taggedTemplateLiteral(["\n      <h3 class=\"title\">\n        <simple-icon-lite icon=\"hax:settings\"></simple-icon-lite>\n        ","\n        <simple-icon-button\n          icon=\"close\"\n          @click=\"","\"\n        ></simple-icon-button>\n      </h3>\n      <div style=\"height: 100%; overflow: auto;\" class=\"pref-container\">\n        <simple-fields\n          id=\"settingsform\"\n          .schematizer=\"","\"\n          .elementizer=\"","\"\n        >\n        </simple-fields>\n      </div>\n      ","\n    "]);_templateObject2_09ab1310812d11eb9c332bb120816628=function _templateObject2_09ab1310812d11eb9c332bb120816628(){return data};return data}function _templateObject_09ab1310812d11eb9c332bb120816628(){var data=babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n        }\n        .title {\n          position: relative;\n          padding: 16px;\n          outline: 0;\n          font-weight: 600;\n          text-align: left;\n          margin: 0;\n          background-color: var(--hax-color-menu-heading-bg, #eeeeee);\n          color: var(--hax-color-menu-heading-color, black);\n          font-size: 18px;\n          line-height: 18px;\n          font-family: \"Noto Serif\", serif;\n        }\n        .pref-container {\n          text-align: left;\n          padding: 16px;\n        }\n        #link {\n          color: #81a3a9;\n          font-size: 18px;\n          padding: 16px;\n          font-style: italic;\n        }\n        simple-icon-button {\n          float: right;\n        }\n      "]);_templateObject_09ab1310812d11eb9c332bb120816628=function _templateObject_09ab1310812d11eb9c332bb120816628(){return data};return data}/**
 * `hax-preferences-dialog`
 * @element hax-preferences-dialog
 * `Export dialog with all export options and settings provided.`
 */var HaxPreferencesDialog=/*#__PURE__*/function(_LitElement){babelHelpers.inherits(HaxPreferencesDialog,_LitElement);babelHelpers.createClass(HaxPreferencesDialog,null,[{key:"styles",/**
   * LitElement constructable styles enhancement
   */get:function get(){return[(0,_litElement.css)(_templateObject_09ab1310812d11eb9c332bb120816628())]}}]);function HaxPreferencesDialog(){var _this;babelHelpers.classCallCheck(this,HaxPreferencesDialog);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(HaxPreferencesDialog).call(this));_this.hideLink=!1;_this.title="Advanced settings";// JSON schema object needs delayed to ensure page repaints the form
_this.schema=[{property:"haxVoiceCommands",title:"Voice commands",description:"Experimental: Voice based control system",inputMethod:"boolean",value:!1}];_this.schemaValues={haxVoiceCommands:!1};(0,_mobxEsm.autorun)(function(){_this.globalPreferences=(0,_mobxEsm.toJS)(_haxStore.HAXStore.globalPreferences);_this.schemaValues=(0,_mobxEsm.toJS)(_haxStore.HAXStore.globalPreferences)});return _this}babelHelpers.createClass(HaxPreferencesDialog,[{key:"closeBtn",value:function closeBtn(e){this.dispatchEvent(new CustomEvent("hax-tray-button-click",{bubbles:!0,cancelable:!0,composed:!0,detail:{eventName:"open-preferences",index:0,value:!0}}))}},{key:"render",value:function render(){return(0,_litElement.html)(_templateObject2_09ab1310812d11eb9c332bb120816628(),this.title,this.closeBtn,_HAXFields.HaxSchematizer,_HAXFields.HaxElementizer,!this.hideLink?(0,_litElement.html)(_templateObject3_09ab1310812d11eb9c332bb120816628()):"")}},{key:"firstUpdated",value:function firstUpdated(changedProperties){this.shadowRoot.querySelector("#settingsform").fields=babelHelpers.toConsumableArray(this.schema);this.shadowRoot.querySelector("#settingsform").value=_objectSpread({},this.schemaValues);this.shadowRoot.querySelector("#settingsform").addEventListener("value-changed",this.__valueChangedEvent.bind(this))}},{key:"__valueChangedEvent",value:function __valueChangedEvent(e){if(e.detail.value){_haxStore.HAXStore.globalPreferences=_objectSpread({},e.detail.value)}}/**
   * force an update of settings
   */},{key:"reloadPreferencesForm",value:function reloadPreferencesForm(){this.shadowRoot.querySelector("#settingsform").fields=babelHelpers.toConsumableArray(this.schema);this.shadowRoot.querySelector("#settingsform").value=_objectSpread({},this.schemaValues)}}],[{key:"tag",get:function get(){return"hax-preferences-dialog"}},{key:"properties",get:function get(){return{/**
       * Developer prop to hide the link
       */hideLink:{type:Boolean},/**
       * Title.
       */title:{type:String},/**
       * Schema that has all of inputs / manages state
       */schema:{type:Object},/**
       * Preferences managed for everything global about HAX.
       */globalPreferences:{type:Object}}}}]);return HaxPreferencesDialog}(_litElement.LitElement);_exports.HaxPreferencesDialog=HaxPreferencesDialog;window.customElements.define(HaxPreferencesDialog.tag,HaxPreferencesDialog)});