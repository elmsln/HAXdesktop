define(["exports","../../../../lit-element/lit-element.js","./rich-text-editor-button.js","../../../simple-picker/simple-picker.js"],function(_exports,_litElement,_richTextEditorButton,_simplePicker){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.RichTextEditorPickerBehaviors=_exports.RichTextEditorPicker=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject2_dc1c9360812711eb9b3b3bc8a337bd59(){var data=babelHelpers.taggedTemplateLiteral(["\n          :host {\n            margin: 0 var(--rich-text-editor-button-margin);\n          }\n          .rtebutton {\n            margin-top: 0;\n            margin-bottom: 0;\n            --simple-picker-border-radius: 0px;\n            --simple-picker-color: var(--rich-text-editor-button-color);\n            --simple-picker-color-active: var(\n              --rich-text-editor-button-hover-color\n            );\n            --simple-picker-color-disabled: var(\n              --rich-text-editor-border-color\n            );\n            --simple-picker-background-color: var(--rich-text-editor-bg);\n            --simple-picker-background-color-disabled: var(\n              --rich-text-editor-border-color\n            );\n            --simple-picker-border-width: 0px;\n            --simple-picker-option-size: 24px;\n            --simple-picker-icon-size: 16px;\n            --simple-picker-options-border-width: 1px;\n          }\n        "]);_templateObject2_dc1c9360812711eb9b3b3bc8a337bd59=function _templateObject2_dc1c9360812711eb9b3b3bc8a337bd59(){return data};return data}function _templateObject_dc1c9360812711eb9b3b3bc8a337bd59(){var data=babelHelpers.taggedTemplateLiteral(["\n        <simple-picker\n          id=\"button\"\n          ?allow-null=\"","\"\n          class=\"rtebutton ","\"\n          ?disabled=\"","\"\n          controls=\"","\"\n          .options=\"","\"\n          @mouseover=\"","\"\n          @keydown=\"","\"\n          @value-changed=\"","\"\n          tabindex=\"0\"\n          ?title-as-html=\"","\"\n        >\n          <span id=\"label\" class=\"","\"\n            >","</span\n          >\n        </simple-picker>\n        <simple-tooltip id=\"tooltip\" for=\"button\"\n          >","</simple-tooltip\n        >\n      "]);_templateObject_dc1c9360812711eb9b3b3bc8a337bd59=function _templateObject_dc1c9360812711eb9b3b3bc8a337bd59(){return data};return data}var RichTextEditorPickerBehaviors=function RichTextEditorPickerBehaviors(SuperClass){return(/*#__PURE__*/function(_RichTextEditorButton){babelHelpers.inherits(_class,_RichTextEditorButton);babelHelpers.createClass(_class,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject_dc1c9360812711eb9b3b3bc8a337bd59(),this.allowNull,this.toggled?"toggled":"",this.disabled,babelHelpers.get(babelHelpers.getPrototypeOf(_class.prototype),"controls",this),this.options,this._pickerFocus,this._pickerFocus,this._pickerChange,this.titleAsHtml,babelHelpers.get(babelHelpers.getPrototypeOf(_class.prototype),"labelStyle",this),this.currentLabel,this.currentLabel)}}],[{key:"tag",/**
     * Store tag name to make it easier to obtain directly.
     */get:function get(){return"rich-text-editor-picker"}},{key:"styles",get:function get(){return[].concat(babelHelpers.toConsumableArray(babelHelpers.get(babelHelpers.getPrototypeOf(_class),"styles",this)),[(0,_litElement.css)(_templateObject2_dc1c9360812711eb9b3b3bc8a337bd59())])}},{key:"properties",get:function get(){return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(_class),"properties",this),{/**
         * Allow a null option to be selected?
         */allowNull:{type:Boolean},/**
         * command used for document.execCommand.
         */command:{type:String},/**
         * Optional icon for null value
         */icon:{type:String},/**
         * Renders html as title. (Good for titles with HTML in them.)
         */titleAsHtml:{type:Boolean},/**
         * value of elected options
         */value:{type:Object}})}}]);function _class(){var _this;babelHelpers.classCallCheck(this,_class);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(_class).call(this));_this.allowNull=!1;_this.command="insertHTML";_this.label="Insert link";_this.titleAsHtml=!1;_this.value=null;return _this}babelHelpers.createClass(_class,[{key:"firstUpdated",value:function firstUpdated(changedProperties){babelHelpers.get(babelHelpers.getPrototypeOf(_class.prototype),"firstUpdated",this).call(this,changedProperties);this._setOptions()}/**
     * determines value of picker based on selected range
     *
     * @param {object} text selected range
     * @returns {boolean} whether button is toggled
     *
     */},{key:"_pickerFocus",/**
     * Handles button tap
     * @param {event} e the button tap event
     */value:function _pickerFocus(e){e.preventDefault()}/**
     * handles range changes by getting
     */},{key:"_rangeChanged",value:function _rangeChanged(){var val=this._getSelection();if(this.shadowRoot){if(this.blockSelectors.split(",").includes(val)){this.shadowRoot.querySelector("#button").value=val}else if(!this.range||this.range.collapsed){this.shadowRoot.querySelector("#button").value=null}}babelHelpers.get(babelHelpers.getPrototypeOf(_class.prototype),"_rangeChanged",this).call(this)}/**
     * override to handle custom options
     */},{key:"_setOptions",value:function _setOptions(){return this.options=this._setPickerOptions()}/**
     * gets a list of icons and load them in a format
     * that simple-picker can take;
     * if no icons are provided, loads a list from iron-meta
     *
     * @param {array} a list of custom icons for picker
     * @returns {array}
     */},{key:"_setPickerOptions",value:function _setPickerOptions(){var options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options||[],items=[],cols=11>Math.sqrt(options.length)?Math.ceil(Math.sqrt(options.length)):10;options.forEach(function(option,i){var row=Math.floor(i/cols),col=i-row*cols;if(!items[row])items[row]=[];items[row][col]=option});return items}/**
     * Picker change
     */},{key:"_pickerChange",value:function _pickerChange(e){var val=this._getSelectionType()||"";this.commandVal=e.detail.value||"";/* only update when there is an actual change */if(this.range&&val!==this.commandVal){this.sendCommand()}}},{key:"isToggled",get:function get(){return!1}}]);return _class}((0,_richTextEditorButton.RichTextEditorButtonBehaviors)(SuperClass)))};/**
 * `rich-text-editor-picker`
 * a picker for rich text editor (custom buttons can extend this)
 *
 * @element rich-text-editor-picker
 * @demo ./demo/buttons.html
 */_exports.RichTextEditorPickerBehaviors=RichTextEditorPickerBehaviors;var RichTextEditorPicker=/*#__PURE__*/function(_RichTextEditorPicker){babelHelpers.inherits(RichTextEditorPicker,_RichTextEditorPicker);function RichTextEditorPicker(){babelHelpers.classCallCheck(this,RichTextEditorPicker);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(RichTextEditorPicker).apply(this,arguments))}return RichTextEditorPicker}(RichTextEditorPickerBehaviors(_litElement.LitElement));_exports.RichTextEditorPicker=RichTextEditorPicker;window.customElements.define(RichTextEditorPicker.tag,RichTextEditorPicker)});