define(["exports","../../../lit-element/lit-element.js","../../simple-icon/lib/simple-icon-lite.js","./hax-toolbar-item.js","../../simple-popover/lib/simple-popover-selection.js","./hax-store.js","../../../mobx/dist/mobx.esm.js"],function(_exports,_litElement,_simpleIconLite,_haxToolbarItem,_simplePopoverSelection,_haxStore,_mobxEsm){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.HaxToolbarMenu=void 0;function _templateObject2_d9bbc000812711eb9b3b3bc8a337bd59(){var data=babelHelpers.taggedTemplateLiteral(["\n        :host {\n          display: block;\n          box-sizing: border-box;\n        }\n        simple-icon-lite {\n          --simple-icon-height: 10px;\n          --simple-icon-width: 10px;\n          margin-left: -2px;\n        }\n        .flip-icon {\n          transform: rotateY(180deg);\n        }\n      "]);_templateObject2_d9bbc000812711eb9b3b3bc8a337bd59=function _templateObject2_d9bbc000812711eb9b3b3bc8a337bd59(){return data};return data}function _templateObject_d9bbc000812711eb9b3b3bc8a337bd59(){var data=babelHelpers.taggedTemplateLiteral(["\n      <simple-popover-selection\n        @simple-popover-selection-changed=\"","\"\n        ?disabled=\"","\"\n        auto\n        orientation=\"tb\"\n      >\n        <div slot=\"style\">\n          simple-popover-manager hax-context-item { overflow: hidden; display:\n          flex; } simple-popover-manager { --simple-popover-padding: 0; }\n          hax-context-item-textop[hidden] { opacity: 0; display: none;\n          visibility: hidden; }\n        </div>\n        <hax-toolbar-item\n          ?mini=\"","\"\n          ?disabled=\"","\"\n          ?action=\"","\"\n          slot=\"button\"\n          icon=\"","\"\n          .hidden=\"","\"\n          .class=\"","\"\n          tooltip=\"","\"\n        >\n          <simple-icon-lite icon=\"hax:expand-more\"></simple-icon-lite>\n        </hax-toolbar-item>\n        <div slot=\"options\">\n          <slot></slot>\n        </div>\n      </simple-popover-selection>\n    "]);_templateObject_d9bbc000812711eb9b3b3bc8a337bd59=function _templateObject_d9bbc000812711eb9b3b3bc8a337bd59(){return data};return data}var HaxToolbarMenu=/*#__PURE__*/function(_LitElement){babelHelpers.inherits(HaxToolbarMenu,_LitElement);babelHelpers.createClass(HaxToolbarMenu,[{key:"render",value:function render(){return(0,_litElement.html)(_templateObject_d9bbc000812711eb9b3b3bc8a337bd59(),this.selectedChanged,this.disabled,this.mini,this.disabled,this.action,this.icon,!this.icon,this.iconClass,this.tooltip)}},{key:"selectedChanged",value:function selectedChanged(e){this.shadowRoot.querySelector("simple-popover-selection").opened=!1;this.selected=e.detail.value}}],[{key:"styles",get:function get(){return[(0,_litElement.css)(_templateObject2_d9bbc000812711eb9b3b3bc8a337bd59())]}},{key:"tag",get:function get(){return"hax-toolbar-menu"}}]);function HaxToolbarMenu(){var _this;babelHelpers.classCallCheck(this,HaxToolbarMenu);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(HaxToolbarMenu).call(this));_this.corner="";_this.action=!1;_this.disabled=!1;_this.tooltip="";_this.tooltipDirection="";_this.selected=0;setTimeout(function(){_this.addEventListener("click",_this._menubuttonTap.bind(babelHelpers.assertThisInitialized(_this)))},0);(0,_mobxEsm.autorun)(function(){// this just forces this block to run when editMode is modified
var editMode=(0,_mobxEsm.toJS)(_haxStore.HAXStore.editMode),activeNode=(0,_mobxEsm.toJS)(_haxStore.HAXStore.activeNode);if(_this.shadowRoot&&_this.shadowRoot.querySelector("simple-popover-selection")){_this.shadowRoot.querySelector("simple-popover-selection").opened=!1}});return _this}babelHelpers.createClass(HaxToolbarMenu,[{key:"updated",/**
   * property changed callback
   */value:function updated(changedProperties){var _this2=this;changedProperties.forEach(function(oldValue,propName){if("selected"==propName){// fire an event that this is a core piece of the system
_this2.dispatchEvent(new CustomEvent("selected-changed",{detail:_this2[propName]}))}})}/**
   * Ensure menu is visible / default'ed.
   */},{key:"_menubuttonTap",value:function _menubuttonTap(e){if(!this.disabled){this.selected=""}}}],[{key:"properties",get:function get(){return{/**
       * corner
       */corner:{type:String,reflect:!0},/**
       * disabled state
       */disabled:{type:Boolean,reflect:!0},mini:{type:Boolean,reflect:!0},action:{type:Boolean},icon:{type:String},tooltip:{type:String},tooltipDirection:{type:String,attribute:"tooltip-direction"},selected:{type:Number}}}}]);return HaxToolbarMenu}(_litElement.LitElement);_exports.HaxToolbarMenu=HaxToolbarMenu;window.customElements.define(HaxToolbarMenu.tag,HaxToolbarMenu)});