define(["exports","../../lit-element/lit-element.js"],function(_exports,_litElement){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.SimpleFilter=_exports.SimpleFilterMixin=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){babelHelpers.defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}/**
 * `simple-filter`
 * `a super class element to provide filtering capabilities`

 * @demo demo/index.html
 * @element simple-filter
 */var SimpleFilterMixin=function SimpleFilterMixin(SuperClass){return(/*#__PURE__*/function(_SuperClass){babelHelpers.inherits(_class,_SuperClass);function _class(){var _this;babelHelpers.classCallCheck(this,_class);_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(_class).call(this));_this.caseSensitive=!1;_this.filtered=[];_this.resetList();return _this}/**
     * Reset this browser.
     */babelHelpers.createClass(_class,[{key:"resetList",value:function resetList(){var list=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];this.items=babelHelpers.toConsumableArray(list);this.where="title";this.value="";this.like=""}},{key:"update",value:function update(changedProperties){var _this2=this;babelHelpers.get(babelHelpers.getPrototypeOf(_class.prototype),"update",this).call(this,changedProperties);changedProperties.forEach(function(oldValue,propName){if(["items","where","like","caseSensitive"].includes(propName)&&_this2.shadowRoot){clearTimeout(_this2.__debounce);_this2.__debounce=setTimeout(function(){_this2.filtered=_this2._computeFiltered(_this2.items,_this2.where,_this2.like,_this2.caseSensitive)},0)}if("filtered"==propName&&_this2.shadowRoot){_this2.dispatchEvent(new CustomEvent("filter",{bubbles:!0,cancelable:!0,composed:!0,detail:!0}));_this2.dispatchEvent(new CustomEvent("filtered-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{value:_this2.filtered}}))}})}/**
     * Filters the items using the f function provided. Recommended when f function is provided
     */},{key:"filter",value:function filter(){//This forces _computeFiltered function to do its job :-)
this.where=""}/**
     * This filters the items provided
     *
     * @param {array} items These are the items to be filtered.
     * @param {string} where The filterby string.
     * @param {string} like The filter string.
     * @param {boolean} capital This is a flag to determine whether filter should be case sensitive or not.
     * @return array} Filter results.
     */},{key:"_computeFiltered",value:function _computeFiltered(items,where,like,caseSensitive){if("\\"===like[0]||"\\"===like){like="\\"+like}var regex=null;if(caseSensitive){regex=new RegExp(like)}else{regex=new RegExp(like,"i")}var filtered=[],decompose=this._decomposeWhere.bind(this);//Save a reference to this object
//Filter by `like`
filtered=items.filter(function(item){//This is when a complex object is provided
if("object"==babelHelpers.typeof(item)){//Decompose where incase it is represented in . notation for complex objects
var decomposed=decompose(where,item);//Check if the items specified are defined
if("undefined"==typeof decomposed&&""!=where){//Do what I know best
console.warn("grafitto-filter was unable to find a property in '"+where+"'")}return regex.test(decomposed)}//When a simple object of strings is provided
if("string"==typeof item){return regex.test(item)}//When a simple object of numbers is provided
if("number"==typeof item){return regex.test(item.toString())}});return filtered}/**
     * This decomposes `where` property to object attributes using . notation
     */},{key:"_decomposeWhere",value:function _decomposeWhere(where,item){return where.split(".").reduce(function(a,b){return a&&a[b]},item)}}],[{key:"properties",get:function get(){return _objectSpread({},babelHelpers.get(babelHelpers.getPrototypeOf(_class),"properties",this),{/**
         * These are the items to be filtered
         */items:{type:Array},/**
         * Filter regular expression string
         */like:{type:String},/**
         * The filter-by field of your items array of objects
         */where:{type:String},/**
         * Enable case sensitivity when filtering
         */caseSensitive:{type:Boolean,attribute:"case-sensitive",reflect:!0},/**
         * Filtered items
         */filtered:{type:Array}})}}]);return _class}(SuperClass))};_exports.SimpleFilterMixin=SimpleFilterMixin;var SimpleFilter=/*#__PURE__*/function(_SimpleFilterMixin){babelHelpers.inherits(SimpleFilter,_SimpleFilterMixin);function SimpleFilter(){babelHelpers.classCallCheck(this,SimpleFilter);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(SimpleFilter).call(this))}babelHelpers.createClass(SimpleFilter,null,[{key:"tag",get:function get(){return"simple-filter"}}]);return SimpleFilter}(SimpleFilterMixin(_litElement.LitElement));_exports.SimpleFilter=SimpleFilter});