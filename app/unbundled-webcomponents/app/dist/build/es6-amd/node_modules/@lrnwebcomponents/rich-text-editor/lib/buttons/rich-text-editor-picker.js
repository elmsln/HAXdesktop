define(["exports","../../../../lit-element/lit-element.js","./rich-text-editor-button.js","../../../simple-picker/simple-picker.js"],(function(_exports,_litElement,_richTextEditorButton,_simplePicker){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.RichTextEditorPickerBehaviors=_exports.RichTextEditorPicker=void 0;
/**
   * Copyright 2019 Penn State University
   * @license Apache-2.0, see License.md for full text.
   */
const RichTextEditorPickerBehaviors=function(SuperClass){return class extends((0,_richTextEditorButton.RichTextEditorButtonBehaviors)(SuperClass)){static get tag(){return"rich-text-editor-picker"}static get styles(){return[...super.styles,_litElement.css`
          :host {
            margin: 0 var(--rich-text-editor-button-margin);
          }
          .rtebutton {
            margin-top: 0;
            margin-bottom: 0;
            --simple-picker-border-radius: 0px;
            --simple-picker-color: var(--rich-text-editor-button-color);
            --simple-picker-color-active: var(
              --rich-text-editor-button-hover-color
            );
            --simple-picker-color-disabled: var(
              --rich-text-editor-border-color
            );
            --simple-picker-background-color: var(--rich-text-editor-bg);
            --simple-picker-background-color-disabled: var(
              --rich-text-editor-border-color
            );
            --simple-picker-border-width: 0px;
            --simple-picker-option-size: 24px;
            --simple-picker-icon-size: 16px;
            --simple-picker-options-border-width: 1px;
          }
        `]}render(){return _litElement.html`
        <simple-picker
          id="button"
          ?allow-null="${this.allowNull}"
          class="rtebutton ${this.toggled?"toggled":""}"
          ?disabled="${this.disabled}"
          controls="${super.controls}"
          .options="${this.options}"
          @mouseover="${this._pickerFocus}"
          @keydown="${this._pickerFocus}"
          @value-changed="${this._pickerChange}"
          tabindex="0"
          ?title-as-html="${this.titleAsHtml}"
        >
          <span id="label" class="${super.labelStyle}"
            >${this.currentLabel}</span
          >
        </simple-picker>
        <simple-tooltip id="tooltip" for="button"
          >${this.currentLabel}</simple-tooltip
        >
      `}static get properties(){return{...super.properties,allowNull:{type:Boolean},command:{type:String},icon:{type:String},titleAsHtml:{type:Boolean},value:{type:Object}}}constructor(){super(),this.allowNull=!1,this.command="insertHTML",this.label="Insert link",this.titleAsHtml=!1,this.value=null}firstUpdated(changedProperties){super.firstUpdated(changedProperties),this._setOptions()}get isToggled(){return!1}_pickerFocus(e){e.preventDefault()}_rangeChanged(){let val=this._getSelection();this.shadowRoot&&(this.blockSelectors.split(",").includes(val)?this.shadowRoot.querySelector("#button").value=val:this.range&&!this.range.collapsed||(this.shadowRoot.querySelector("#button").value=null)),super._rangeChanged()}_setOptions(){return this.options=this._setPickerOptions()}_setPickerOptions(options=this.options||[]){let items=[],cols=Math.sqrt(options.length)<11?Math.ceil(Math.sqrt(options.length)):10;return options.forEach((option,i)=>{let row=Math.floor(i/cols),col=i-row*cols;items[row]||(items[row]=[]),items[row][col]=option}),items}_pickerChange(e){let val=this._getSelectionType()||"";this.commandVal=e.detail.value||"",this.range&&val!==this.commandVal&&this.sendCommand()}}};_exports.RichTextEditorPickerBehaviors=RichTextEditorPickerBehaviors;class RichTextEditorPicker extends(RichTextEditorPickerBehaviors(_litElement.LitElement)){}_exports.RichTextEditorPicker=RichTextEditorPicker,window.customElements.define(RichTextEditorPicker.tag,RichTextEditorPicker)}));