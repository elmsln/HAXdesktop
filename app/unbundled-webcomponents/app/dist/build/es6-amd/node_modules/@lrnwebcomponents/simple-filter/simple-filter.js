define(["exports","../../lit-element/lit-element.js"],(function(_exports,_litElement){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.SimpleFilter=_exports.SimpleFilterMixin=void 0;
/**
   * Copyright 2020 The Pennsylvania State University
   * @license Apache-2.0, see License.md for full text.
   */
const SimpleFilterMixin=function(SuperClass){return class extends SuperClass{constructor(){super(),this.caseSensitive=!1,this.filtered=[],this.resetList()}resetList(list=[]){this.items=[...list],this.where="title",this.value="",this.like=""}static get properties(){return{...super.properties,items:{type:Array},like:{type:String},where:{type:String},caseSensitive:{type:Boolean,attribute:"case-sensitive",reflect:!0},filtered:{type:Array}}}update(changedProperties){super.update(changedProperties),changedProperties.forEach((oldValue,propName)=>{["items","where","like","caseSensitive"].includes(propName)&&this.shadowRoot&&(clearTimeout(this.__debounce),this.__debounce=setTimeout(()=>{this.filtered=this._computeFiltered(this.items,this.where,this.like,this.caseSensitive)},0)),"filtered"==propName&&this.shadowRoot&&(this.dispatchEvent(new CustomEvent("filter",{bubbles:!0,cancelable:!0,composed:!0,detail:!0})),this.dispatchEvent(new CustomEvent("filtered-changed",{bubbles:!0,cancelable:!0,composed:!0,detail:{value:this.filtered}})))})}filter(){this.where=""}_computeFiltered(items,where,like,caseSensitive){"\\"!==like[0]&&"\\"!==like||(like="\\"+like);var regex=null;regex=caseSensitive?new RegExp(like):new RegExp(like,"i");var decompose=this._decomposeWhere.bind(this);return items.filter((function(item){if("object"==typeof item){var decomposed=decompose(where,item);return void 0===decomposed&&""!=where&&console.warn("grafitto-filter was unable to find a property in '"+where+"'"),regex.test(decomposed)}return"string"==typeof item?regex.test(item):"number"==typeof item?regex.test(item.toString()):void 0}))}_decomposeWhere(where,item){return where.split(".").reduce((function(a,b){return a&&a[b]}),item)}}};_exports.SimpleFilterMixin=SimpleFilterMixin;class SimpleFilter extends(SimpleFilterMixin(_litElement.LitElement)){constructor(){super()}static get tag(){return"simple-filter"}}_exports.SimpleFilter=SimpleFilter}));