import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import{HaxSchematizer,HaxElementizer}from"../../hax-body-behaviors/lib/HAXFields.js";class HaxSchemaForm extends PolymerElement{constructor(){super(),import("../../../@polymer/paper-toggle-button/paper-toggle-button.js"),import("../../../@polymer/paper-card/paper-card.js"),import("../../../@polymer/paper-tabs/paper-tabs.js"),import("../../../@polymer/paper-tabs/paper-tab.js"),import("../../../@polymer/paper-button/paper-button.js"),import("../../simple-fields/simple-fields.js"),import("../../simple-fields/lib/simple-fields-form.js"),import("../../code-editor/code-editor.js"),import("../../simple-fields/lib/simple-fields-field.js"),import("../../../app-datepicker/app-datepicker.js"),import("../../simple-picker/simple-picker.js"),import("../../simple-icon-picker/simple-icon-picker.js"),import("../../simple-colors/lib/simple-colors-picker.js")}static get template(){return html`
      <style>
        :host {
          display: block;
          background-color: #ffffff;
          overflow: hidden;
        }
        paper-card.form-wrapper {
          margin: 0;
          padding: 0 16px 80px 16px;
          width: 100%;
          min-height: 160px;
          background-color: transparent;
          overflow: auto;
          height: 100%;
        }

        simple-fields {
          width: 50%;
        }

        #modetabs {
          height: 64px;
          padding: 0px;
          margin: 16px 0 0 0;
          box-sizing: content-box;
          color: var(--hax-color-text);
          text-align: center;
          background-color: transparent;
          border-bottom: 1px solid var(--hax-color-border-outline);
          display: block;
          justify-content: space-evenly;
          --paper-tabs-selection-bar-color: var(
            --hax-color-accent1,
            --simple-colors-default-theme-light-blue-7
          );
          --paper-tabs: {
            background: transparent;
          }
        }

        #modetabs paper-tab {
          display: inline-flex;
          height: 100%;
          --paper-tab-ink: var(
            --hax-color-accent1,
            --simple-colors-default-theme-light-blue-7
          );
          --paper-tab: {
            font-size: 16px;
          }
        }
        #modetabs paper-tab paper-button {
          min-width: unset;
          width: 100%;
          background-color: var(--hax-color-menu-heading-bg, #eeeeee);
          color: var(--hax-color-menu-heading-color, black);
        }
        simple-fields {
          color: var(--hax-text-color);
          --simple-colors-picker-preview-size: 20px;
        }
      </style>
      <paper-tabs
        id="modetabs"
        selected="{{modeTab}}"
        attr-for-selected="data-mode"
      >
        <paper-tab id="configurebutton" data-mode="configure"
          ><paper-button raised="" noink="">Configure</paper-button></paper-tab
        >
        <paper-tab id="advancedbutton" data-mode="advanced"
          ><paper-button raised="" noink="">Advanced</paper-button></paper-tab
        >
      </paper-tabs>
      <paper-card class="form-wrapper">
        <simple-fields
          id="form"
          schema="[[schema]]"
          .schematizer="${HaxSchematizer}"
          .elementizer="${HaxElementizer}"
          value="{{value}}"
        ></simple-fields>
      </paper-card>
    `}static get tag(){return"hax-schema-form"}static get properties(){return{initialValue:{type:Object,notify:!0,value:{},observer:"_valueChanged"},value:{type:Object,notify:!0,value:{}},modeTab:{type:String,observer:"_editorModeChanged"},advancedForm:{type:Boolean,value:!1},canEditSource:{type:Boolean},formKey:{type:String,computed:"_computedFormKey(advancedForm)",observer:"_formKeyChanged"},schema:{type:Object,notify:!0},configureSchema:{type:Object,value:{schema:{}}},advancedSchema:{type:Object,value:{schema:{}}}}}_computedFormKey(advanced){return advanced?"advanced":"configure"}_formKeyChanged(newValue,oldValue){newValue&&("advanced"===newValue?this.set("schema",this.advancedSchema):this.set("schema",this.configureSchema),this.notifyPath("schema.*"))}_valueChanged(newValue){if(newValue&&this.schema)for(var i in newValue)this.schema[i].value=newValue[i]}_editorModeChanged(mode){mode&&(this.advancedForm="advanced"===mode)}addField(key,field,type="configure"){"configure"===type?(this.configureSchema.properties[key]=field,this.set("schema",this.configureSchema)):this.set("schema",this.advancedSchema),this.notifyPath("schema.*")}removeField(key,type="configure"){"configure"===type?(delete this.configureSchema.properties[key],this.set("schema",this.configureSchema)):(delete this.advancedSchema.properties[key],this.set("schema",this.advancedSchema)),this.notifyPath("schema.*")}}window.customElements.define(HaxSchemaForm.tag,HaxSchemaForm);export{HaxSchemaForm};